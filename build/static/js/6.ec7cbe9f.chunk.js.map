{"version":3,"sources":["Components/PostPage/PostPage.js"],"names":["PostPage","userPosts","useSelector","state","user","posts","dispatch","useDispatch","url","useRouteMatch","useState","status","setStatus","error","setError","useEffect","API","then","rez","x","actions","setUserPosts","type","color","height","width","map","e","title","body","id"],"mappings":"6QASe,SAASA,IACtB,IAAMC,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,SAC5CC,EAAWC,cAETC,EAAQC,cAARD,IACR,EAA4BE,mBAAS,QAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAaA,OAZAC,qBAAU,WACRH,EAAU,WACVI,YAAIR,GAAKS,MAAK,SAAAC,GANK,IAAAC,EAObD,GAPaC,EAQFD,EAROZ,EAASc,IAAQC,aAAaF,IASlDP,EAAU,cAEVE,EAAS,0MACTF,EAAU,kBAGb,IACY,SAAXD,EACK,wBAEM,YAAXA,EAEA,8BACE,cAAC,IAAD,CAAQW,KAAK,YAAYC,MAAM,UAAUC,OAAQ,IAAKC,MAAO,QAIpD,aAAXd,EAEA,gCACE,6BAAKE,IADP,OAKW,aAAXF,EAEA,gCACE,uCACA,6BACGV,EAAUyB,KAAI,SAAAC,GAAC,OACd,+BACE,6BAAKA,EAAEC,QACP,4BAAID,EAAEE,SAFCF,EAAEG,iBANrB","file":"static/js/6.ec7cbe9f.chunk.js","sourcesContent":["import API from '../../APIservice';\nimport './PostPage.css';\nimport { useRouteMatch } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport actions from '../../redux/user/user-actions';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function PostPage() {\n  const userPosts = useSelector(state => state.user.posts);\n  const dispatch = useDispatch();\n  const setUserPosts = x => dispatch(actions.setUserPosts(x));\n  const { url } = useRouteMatch();\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setStatus('pending');\n    API(url).then(rez => {\n      if (rez) {\n        setUserPosts(rez);\n        setStatus('resolved');\n      } else {\n        setError(`Извините сервер временно недоступен :(`);\n        setStatus('rejected');\n      }\n    });\n  }, []);\n  if (status === 'idle') {\n    return <div></div>;\n  }\n  if (status === 'pending') {\n    return (\n      <div>\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\n      </div>\n    );\n  }\n  if (status === 'rejected') {\n    return (\n      <div>\n        <h1>{error}</h1>;\n      </div>\n    );\n  }\n  if (status === 'resolved') {\n    return (\n      <div>\n        <h1>Posts</h1>\n        <ul>\n          {userPosts.map(e => (\n            <li key={e.id}>\n              <h2>{e.title}</h2>\n              <p>{e.body}</p>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}