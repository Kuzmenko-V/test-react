{"version":3,"sources":["Components/UserDetailsPage/AlbumsList.js"],"names":["AlbumPage","userAlbums","useSelector","state","user","albums","dispatch","useDispatch","url","useRouteMatch","useState","status","setStatus","error","setError","useEffect","API","then","rez","x","actions","setUserAlbums","type","color","height","width","map","e","title","id"],"mappings":"gPAQe,SAASA,IACrB,IAAMC,EAAaC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,UAC5CC,EAAWC,cAETC,EAAQC,cAARD,IACR,EAA4BE,mBAAS,QAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAeF,OAdAC,qBAAU,WACRH,EAAU,WACVI,YAAI,GAAD,OAAIR,EAAJ,YACAS,MAAK,SAAAC,GAPc,IAACC,EAQfD,GAReC,EASHD,EATSZ,EAASc,IAAQC,cAAcF,IAUtDP,EAAU,cAGIE,EAAS,0MACTF,EAAU,kBAG7B,IACY,SAAXD,EACa,wBAEF,YAAXA,EAEU,8BACI,cAAC,IAAD,CACCW,KAAK,YACLC,MAAM,UACNC,OAAQ,IACRC,MAAO,QAKX,aAAXd,EACc,gCACE,6BAAKE,IADP,OAIH,aAAXF,EAEE,gCACA,wCACI,6BACKV,EAAWyB,KAAI,SAAAC,GAAC,OACb,6BACI,6BAAKA,EAAEC,SADFD,EAAEE,iBAN7B","file":"static/js/9.a49821e2.chunk.js","sourcesContent":["import API from '../../APIservice';\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport actions from '../../redux/user/user-actions'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function AlbumPage() {\r\n   const userAlbums = useSelector(state => state.user.albums)\r\n    const dispatch = useDispatch();\r\n    const setUserAlbums = (x) => dispatch(actions.setUserAlbums(x));\r\n    const { url } = useRouteMatch();\r\n    const [status, setStatus] = useState('idle');\r\n    const [error, setError] = useState(null);\r\n  useEffect(() => {\r\n    setStatus('pending');    \r\n    API(`${url}/albums`)\r\n      .then(rez => {\r\n        if (rez) {\r\n          setUserAlbums(rez);\r\n          setStatus('resolved');\r\n        }\r\n        else {\r\n                        setError(`Извините сервер временно недоступен :(`);\r\n                        setStatus('rejected');\r\n                    }\r\n      })\r\n  }, []);\r\n  if (status === \"idle\") {\r\n            return <div></div>;\r\n  }\r\n  if (status === \"pending\") {\r\n            return (\r\n                <div>\r\n                    <Loader\r\n                     type=\"ThreeDots\"\r\n                     color=\"#3f51b5\"\r\n                     height={100}\r\n                     width={100}\r\n                    />\r\n                </div>\r\n            );\r\n  }\r\n  if (status === \"rejected\") {\r\n            return (<div>\r\n                      <h1>{error}</h1>;    \r\n                    </div>);\r\n  }\r\n  if (status === \"resolved\") {\r\n    return (\r\n        <div>\r\n        <h1>Albums</h1>\r\n            <ul>\r\n                {userAlbums.map(e => (\r\n                    <li key={e.id}>\r\n                        <h2>{e.title}</h2>            \r\n                    </li>))}\r\n            </ul>\r\n        </div>\r\n    );\r\n  }    \r\n};"],"sourceRoot":""}